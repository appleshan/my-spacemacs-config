#+TITLE:Apple Shan 的 Emacs 配置 :sparkles:
#+begin_src :tangle no
'||''''|  '||    ||'     |       ..|'''.|  .|'''.|
 ||  .     |||  |||     |||    .|'     '   ||..  '
 ||''|     |'|..'||    |  ||   ||           ''|||.
 ||        | '|' ||   .''''|.  '|.      . .     '||
.||.....| .|. | .||. .|.  .||.  ''|....'  |'....|'
#+end_src

Hacking 始于 2012 年。2015 年爱上 Spacemacs :smile: :sparkling_heart:

我的 Spacemacs 配置一共有两部分：
一个 .emacs.d 目录，是 Spacemacs 的原始代码，未做任何修改；
一个 .spacemacs.d 目录，存放私有 layer。

* Emacs version
Tested on versions:
- GNU Emacs 25.1 (x86_64-pc-linux-gnu, GTK+ Version 3.4.2) of 2017-02-22
- [[https://github.com/zklhp/emacs-w64/releases][64-bit GNU Emacs for MS Windows with optimization]] (x86_64-pc-windows-10) of 2017-05-02

* Screenshot
[[./local/img/spacemacs-demo-1.png]]
[[./local/img/spacemacs-demo-2.png]]

* :beginner: Installing
#+BEGIN_SRC sh
#!/usr/bin/bash

# sudo pacman -S emacs

cd ~/projects/

# clone spacemacs repo
git clone -b develop https://github.com/syl20bnr/spacemacs.git spacemacs-develop

# clone appleshan layer
git clone https://github.com/appleshan/my-spacemacs-config.git spacemacs-private

# all-the-icons
# Installing Fonts
M-x all-the-icons-install-fonts

# dired-k
cd ./spacemacs-private/layers/appleshan-dired/
mkdir ./local && cd ./local
git clone https://github.com/appleshan/emacs-dired-k dired-k

# terminal-here
cd ./spacemacs-private/layers/appleshan-shell/
mkdir ./local && cd ./local
git clone https://github.com/appleshan/terminal-here terminal-here


# 建立软链接
# ln -s <源文件> <目标> 创建一个符号链接
ln -s ~/projects/spacemacs-develop ~/.emacs.d
ln -s ~/projects/spacemacs-private ~/.spacemacs.d

# 验证软链接建立成功
la ~/ |grep emacs


# ditaa
mkdir -p ~/bin/java-lib/ditaa0_9
cd ~/bin/java-lib/ditaa0_9
wget https://downloads.sourceforge.net/project/ditaa/ditaa/0.9/ditaa0_9.zip
unzip ditaa0_9.zip

# graphviz

#+END_SRC

现在可以打开 Emacs 24.5+ 开始使用我的配置了。

* :books: 配置说明
1. 我的配置主要分成 16 个 layer：
- appleshan-core
- appleshan-complete
- appleshan-appearance
- appleshan-navigation
- appleshan-notify
- appleshan-shell
- appleshan-dired
- appleshan-org
- appleshan-chinese
- appleshan-programming
- appleshan-python
- appleshan-java
- appleshan-javascript
- appleshan-web
- appleshan-lisp
- appleshan-misc
  这些 layer 是对 spacemacs 本身的一些扩展。

2. 我的这个配置使用了 evil。
   所以，对于 Vim 党来说会比较友好一点。

3. 我的配置用了很长时间了，相信你也会喜欢的。

* Dependencies

** 设置 HOME 环境变量
- Linux
  无需设置。例如：/home/appleshan
- Windows 10
  HOME=D:/home/appleshan

** 使用软链接（符号链接）管理配置
- Linux

- Windows 10
#+BEGIN_SRC bat
mklink /D d:\.emacs.d d:\projects\spacemacs-develop.d
mklink /D d:\.spacemacs.d d:\projects\my-spacemacs-config.d
#+END_SRC

注意：mklink 支持 Windows 7 及以上版本

** 字体
https://github.com/ProgrammingFonts/programming-fonts-collection
- Linux
  - Source Code Pro
  - 文泉驿
- Windows 10
  - 微软雅黑
** diff
- Windows 10
http://gnuwin32.sourceforge.net/packages/diffutils.htm
下载：Binaries 与 Dependencies，然后把 Dependencies 中解压出来的 libintl-2 和
libiconv-2 copy 到 Binaries 的 bin 目录，最后，把 bin 目录加入环境变量 PATH .

** Git
@see http://blog.miniasp.com/post/2014/05/22/Credential-Store-for-Git-HTTP-HTTPS.aspx

#+BEGIN_SRC bash
# 设置 github 的用户名
git config --global user.name "appleshan"
git config --global user.email apple.shan@gmail.com

# 设置编辑器
git config --global core.editor emacs

# 设置永久存储用户名和密码
git config --global credential.helper store

# 关闭 git 自动改换行符的功能
git config --global core.autocrlf false
#+END_SRC

** python

*** elpy require
#+BEGIN_SRC bash
pip install rope        # a python refactoring library
pip install jedi        # Python 自动补全库
pip install flake8      # flake8 用来检查语法错误
pip install importmagic # importmagic 用来自动引入需要的包
pip install autopep8    # autopep8 用来检查 PEP8 规范
pip install yapf        # yapf 用来格式化代码
#+END_SRC

** Setup up Shell Environment
~\.spacemacs.d\layers\appleshan-shell\config.el
- Linux
#+BEGIN_EXAMPLE
/home/appleshan/bin
/home/appleshan/bin/cli
/home/appleshan/.local/bin
/home/appleshan/perl5/bin
/home/appleshan/bin/sift
/usr/local/sbin
/usr/local/bin
/usr/sbin
/usr/bin
/sbin
/bin
/opt/oracle/lib
/opt/jdk/jdk1.8.0_102/bin
/opt/jdk/apache-maven-3.3.9/bin
/opt/eclipse-jee-neon/eclipse
#+END_EXAMPLE

- Windows 10
#+BEGIN_EXAMPLE
D:/bin
D:/lang/python/Python361
D:/lang/python/Python361/Scripts
D:/lang/python/Python2713
D:/lang/python/Python2713/Scripts
D:/portable-soft/cmder
D:/portable-soft/PortableGit/bin
D:/portable-soft/PortableGit/mingw64/libexec/git-core
C:/Program Files (x86)/GnuPG/bin/
C:/Windows/System32
#+END_EXAMPLE

* Happy Hacking :smile:
